# AWSTemplateFormatVersion: '2010-09-09'
# Transform: AWS::Serverless-2016-10-31
# Description: Plantilla para crear los recursos de la funci√≥n de informe general

# Parameters:
#   Environment:
#     Type: String
#     Description: Valor del entorno
#     Default: dev
#   InspRiesgoInformeGeneralFunction:
#     Type: String
#     Description: Function
#   InspRiesgoInformeGeneralRole:
#     Type: String
#     Description: API GW

# Resources:

  # InspRiesgoInformeGeneralApi:
  #   Type: AWS::Serverless::Api
  #   Properties:
  #     Name: !Join
  #       - ""
  #       - - InspRiesgoInformeGeneral
  #         - "-"
  #         - !Ref Environment
  #     StageName: !Ref Environment
  #     DefinitionBody:
  #       Fn::Transform:
  #         Name: AWS::Include
  #         Parameters:
  #           Location: ../../Api/InspRiesgoInformeGeneral/definitions.yml
  
  # InspRiesgoInformeGeneralRole:
  #   Type: AWS::IAM::Role
  #   Properties:
  #     RoleName: !Join
  #       - ""
  #       - - InspRiesgoInformeGeneralRole
  #         - !Ref Environment
  #     AssumeRolePolicyDocument:
  #       Statement:
  #         - Effect: Allow
  #           Principal:
  #             Service: lambda.amazonaws.com
  #           Action: "sts:AssumeRole"
  #     Path: /
  #     Policies:
  #       - PolicyName: DynamoCRUD
  #         PolicyDocument:
  #           Version: 2012-10-17
  #           Statement:
  #             - Effect: Allow
  #               Action:
  #                 - dynamodb:GetItem
  #                 - dynamodb:DeleteItem
  #                 - dynamodb:PutItem
  #                 - dynamodb:Scan
  #                 - dynamodb:Query
  #                 - dynamodb:UpdateItem
  #                 - dynamodb:BatchWriteItem
  #                 - dynamodb:BatchGetItem
  #                 - dynamodb:DescribeTable
  #                 - dynamodb:ConditionCheckItem
  #               Resource: '*'        
  #       - PolicyName: S3
  #         PolicyDocument:
  #           Version: 2012-10-17
  #           Statement:
  #             - Effect: Allow
  #               Action:
  #                 - "s3:GetBucketAcl"
  #                 - "s3:GetBucketPolicy"
  #                 - "s3:GetObject"
  #                 - "s3:GetObjectAcl"
  #               Resource: '*'
  #       - PolicyName: CWL
  #         PolicyDocument:
  #           Version: 2012-10-17
  #           Statement:
  #             - Effect: Allow
  #               Action:
  #                 - logs:CreateLogDelivery
  #                 - logs:CreateLogGroup
  #                 - logs:CreateLogStream
  #                 - logs:GetLogEvents
  #                 - logs:GetLogGroupFields
  #                 - logs:GetLogRecord
  #                 - logs:PutDestination
  #                 - logs:PutLogEvents
  #                 - logs:PutQueryDefinition
  #                 - logs:UpdateLogDelivery
  #               Resource: '*'   

# Outputs:

  # InspRiesgoInformeGeneralApi:
  #   Description: Arn  de la API
  #   Value: !Ref InspRiesgoInformeGeneralApi.Arn
    
  # InspRiesgoInformeGeneralRole:
  #   Description: Arn  de Role
  #   Value: !GetAtt InspRiesgoInformeGeneralRole.Arn  